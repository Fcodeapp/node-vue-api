import{d as q,r as g,u as B,a as m,b as n,o as c,c as b,e as t,f as s,w as a,g as _,F as C,h as M,i as U,j,E as p}from"./index-bac9a75a.js";const N={class:"h-screen md:flex"},z={class:"relative overflow-hidden md:flex w-1/2 bg-gradient-to-tr from-[#9be15d] to-[#02bb90] i justify-around items-center hidden"},R=t("h1",{class:"text-white font-bold text-4xl font-sans"},"FCODE",-1),$=t("p",{class:"text-white mt-1"},"Node.js + Vue 後台管理系統",-1),O=t("div",{class:"absolute -bottom-32 -left-40 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"},null,-1),S=t("div",{class:"absolute -bottom-40 -left-20 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"},null,-1),D=t("div",{class:"absolute -top-40 -right-0 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"},null,-1),L=t("div",{class:"absolute -top-20 -right-20 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"},null,-1),T={class:"flex md:w-1/2 justify-center py-10 items-center bg-white"},W=t("h1",{class:"text-gray-800 font-bold text-2xl mb-1"},"註冊頁",-1),A=t("p",{class:"text-sm font-normal text-gray-600 mb-7"},"Welcome Back",-1),G={class:"pt-8 pb-2"},H={class:"flex items-center py-2"},Q=q({__name:"Signup",setup(I){const h=g("default"),w=B(),f=g(),o=m({name:"",email:"",identity:"employee",password:"",checkPass:""}),x=m([{label:"管理者",value:"admin"},{label:"員工",value:"employee"}]),y=m({name:[{required:!0,message:"請輸入使用者名稱",trigger:"blur"},{min:2,max:20,message:"字數不得少於2",trigger:"blur"}],email:[{type:"email",required:!0,message:"請輸入正確的Email",trigger:"blur"}],identity:[{required:!0,message:"請選擇身份",trigger:"change"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{min:6,max:20,message:"字數不得少於6",trigger:"blur"}],checkPass:[{required:!0,message:"請再次輸入相同密碼",trigger:"blur"},{min:6,max:20,message:"字數不得少於6",trigger:"blur"},{validator:(u,e,i)=>{e!==o.password?i(new Error("請輸入相同的密碼")):i()},trigger:"blur"}]}),v=async u=>{u&&await u.validate((e,i)=>{e?j.post("/api/users/register",o).then(r=>{console.log(r),r.data.msg?p.error(`註冊失敗！ ${r.data.msg}`):(p({message:"註冊成功",type:"success"}),w.push({name:"login"}))}).catch(r=>{p.error(`註冊失敗！ ${r.message}`)}):console.log("error submit!",i)})};return(u,e)=>{const i=n("router-link"),r=n("el-input"),d=n("el-form-item"),V=n("el-option"),k=n("el-select"),F=n("el-alert"),P=n("el-form");return c(),b("main",N,[t("section",z,[t("div",null,[R,$,s(i,{to:"/login",class:"text-center block w-36 bg-white text-green-600 hover:text-green-800 mt-4 py-2 rounded font-bold mb-2"},{default:a(()=>[_("已有帳號？登入")]),_:1})]),O,S,D,L]),t("section",T,[s(P,{ref_key:"ruleFormRef",ref:f,model:o,rules:y,size:h.value,"status-icon":"",class:"bg-white"},{default:a(()=>[W,A,s(d,{prop:"name"},{default:a(()=>[s(r,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.name=l),modelModifiers:{trim:!0},"prefix-icon":"user",maxlength:"20",placeholder:"使用者名稱"},null,8,["modelValue"])]),_:1}),s(d,{prop:"email"},{default:a(()=>[s(r,{modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=l=>o.email=l),modelModifiers:{trim:!0},"prefix-icon":"message",maxlength:"40",placeholder:"Email"},null,8,["modelValue"])]),_:1}),s(d,{prop:"password"},{default:a(()=>[s(r,{modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=l=>o.password=l),modelModifiers:{trim:!0},"prefix-icon":"lock",maxlength:"20",placeholder:"密碼",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(d,{prop:"checkPass"},{default:a(()=>[s(r,{modelValue:o.checkPass,"onUpdate:modelValue":e[3]||(e[3]=l=>o.checkPass=l),modelModifiers:{trim:!0},"prefix-icon":"lock",autocomplete:"off",maxlength:"20",placeholder:"再次輸入密碼",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(d,{prop:"identity"},{default:a(()=>[s(k,{modelValue:o.identity,"onUpdate:modelValue":e[4]||(e[4]=l=>o.identity=l),placeholder:"註冊身份",class:"w-full"},{default:a(()=>[(c(!0),b(C,null,M(x,(l,E)=>(c(),U(V,{key:E,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t("div",G,[s(F,{type:"info","show-icon":"",closable:!1},{default:a(()=>[_(" 點選「註冊」，即表示您同意接受服務條款而且已閱讀隱私權保護政策 ")]),_:1})]),t("div",H,[t("button",{type:"button",class:"block w-full bg-green-600 hover:bg-green-700 mt-4 py-2 rounded text-white font-semibold mb-2",onClick:e[5]||(e[5]=l=>v(f.value))},"註冊")])]),_:1},8,["model","rules","size"])])])}}});export{Q as default};
